<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Working Hyper Photo Editor</title>
<style>
body, html{margin:0;padding:0;height:100%;overflow:hidden;font-family:Arial,sans-serif;background:#02031a;color:#fff;}
h1{text-align:center;margin:20px 0;font-size:2.5em;color:#6ee7b7;}
.container{width:90%;max-width:1000px;margin:0 auto;padding:10px;position:relative;z-index:2;}
#canvas{border-radius:20px;display:block;margin:0 auto;margin-bottom:20px;background:#111;}
.controls{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-bottom:20px;}
.controls button, .controls input[type=file], .controls input[type=text]{padding:10px 15px;border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:0.3s;}
.controls button{background:linear-gradient(90deg,#60a5fa,#6ee7b7);color:#02031a;}
.controls button:hover{transform:scale(1.05);box-shadow:0 0 20px #6ee7b7;}
.controls input[type=file]{background:#6ee7b7;color:#02031a;}
.controls input[type=text]{width:200px;}
.bg-wrap{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;overflow:hidden;}
.bg-cube{position:absolute;border-radius:50%;opacity:0.7;}
</style>
</head>
<body>

<div class="bg-wrap" id="bgWrap"></div>

<div class="container">
<h1>Hyper Photo Editor</h1>

<canvas id="canvas" width="800" height="600"></canvas>

<div class="controls">
<input type="file" id="imageUpload" accept="image/*">
<button onclick="applyFilter('none')">Normal</button>
<button onclick="applyFilter('grayscale(100%)')">B&W</button>
<button onclick="applyFilter('sepia(100%)')">Sepia</button>
<button onclick="applyFilter('contrast(150%) brightness(120%)')">Bright</button>
<button onclick="applyFilter('hue-rotate(90deg) saturate(150%)')">Neon</button>
<input type="text" id="textInput" placeholder="Type text">
<button onclick="addText()">Add Text</button>
<button onclick="enableDraw()">Draw</button>
<button onclick="takeSnapshot()">Download</button>
</div>
</div>

<script>
const canvas=document.getElementById('canvas');
const ctx=canvas.getContext('2d');
let img=new Image();
let drawing=false;

// Image Upload
document.getElementById('imageUpload').addEventListener('change',function(e){
  const file=e.target.files[0];
  if(file){
    const reader=new FileReader();
    reader.onload=function(ev){
      img.src=ev.target.result;
      img.onload=function(){ctx.drawImage(img,0,0,canvas.width,canvas.height);}
    }
    reader.readAsDataURL(file);
  }
});

// Filters
function applyFilter(filter){canvas.style.filter=filter;}

// Add Text
function addText(){
  const text=document.getElementById('textInput').value;
  if(text){
    ctx.font='40px Arial';
    ctx.fillStyle='white';
    ctx.fillText(text,50,50);
  }
}

// Draw Tool
function enableDraw(){
  canvas.addEventListener('mousedown',()=>{drawing=true;});
  canvas.addEventListener('mouseup',()=>{drawing=false;ctx.beginPath();});
  canvas.addEventListener('mousemove',drawBrush);
}
function drawBrush(e){
  if(!drawing) return;
  ctx.lineWidth=5;
  ctx.strokeStyle='cyan';
  ctx.lineCap='round';
  ctx.lineTo(e.offsetX,e.offsetY);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(e.offsetX,e.offsetY);
}

// Download with Watermark
function takeSnapshot(){
  ctx.font='20px Arial';
  ctx.fillStyle='rgba(255,255,255,0.6)';
  ctx.fillText('Imran Hussain Mahi',canvas.width-220,canvas.height-20);
  const link=document.createElement('a');
  link.download='edited_photo.png';
  link.href=canvas.toDataURL('image/png');
  link.click();
}

// Floating Cubes Background
const bgWrap=document.getElementById('bgWrap');
for(let i=0;i<30;i++){
  const cube=document.createElement('div');
  cube.className='bg-cube';
  cube.style.width=cube.style.height=(Math.random()*50+20)+'px';
  cube.style.background=['#6ee7b7','#60a5fa','#ff9aa2','#ffdc7f'][Math.floor(Math.random()*4)];
  cube.style.left=Math.random()*100+'vw';
  cube.style.top=Math.random()*100+'vh';
  cube.style.animation=`floatCube ${Math.random()*10+5}s linear infinite alternate`;
  bgWrap.appendChild(cube);
}

const style=document.createElement('style');
style.innerHTML=`@keyframes floatCube{0%{transform:translateY(0px) rotate(0deg);}100%{transform:translateY(-200px) rotate(360deg);}}`;
document.head.appendChild(style);
</script>

</body>
</html>