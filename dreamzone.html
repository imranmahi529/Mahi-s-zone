<!doctype html>

<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dream Zone ‚Äî Joy & Peace</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#071022;--card:#081428;--muted:#a6bac7;--accent:#6ee7b7;--accent2:#60a5fa}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,Arial}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(circle at 10% 10%, #0b2540 0%, #071022 40%, #020612 100%);color:#eaf6f8;padding:20px}
    .wrap{max-width:1100px;margin:0 auto}
    header{display:flex;gap:14px;align-items:center;margin-bottom:18px}
    .logo{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#042}
    h1{margin:0;font-size:20px}
    p.lead{margin:0;color:var(--muted)}/* hero */
.hero{display:flex;gap:18px;align-items:center;padding:16px;border-radius:14px;background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.04);box-shadow:0 18px 40px rgba(1,6,20,.6)}
.hero .left{width:320px}
.hero img{width:100%;height:180px;object-fit:cover;border-radius:10px;filter:contrast(1.03) saturate(1.05);transform:translateZ(0);transition:transform .35s ease;box-shadow:0 12px 30px rgba(2,8,20,.6)}
.hero img:hover{transform:scale(1.03) rotateZ(-1deg)}

/* layout grid */
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:18px;margin-top:18px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.02),rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.04);padding:14px;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,.5);overflow:hidden}
.muted{color:var(--muted);font-size:13px}
h2{margin:0 0 8px 0;font-size:16px}

/* Joy Ride: balloons + mood */
.sky{position:relative;height:160px;background:linear-gradient(180deg,#07192b,#052033);border-radius:10px;overflow:hidden}
.balloon{position:absolute;bottom:-120px;width:60px;height:80px;border-radius:50% 50% 50% 50%/60% 60% 40% 40%;display:flex;align-items:center;justify-content:center;font-weight:700;color:#022}
.string{position:absolute;left:50%;width:2px;height:80px;background:rgba(255,255,255,.06);transform:translateX(-50%);top:80px}

/* Dream Garden */
.garden{position:relative;height:160px;background:linear-gradient(180deg,#021218,#021826);border-radius:10px;overflow:hidden;cursor:pointer;display:flex;align-items:center;justify-content:center}
.flower{position:absolute;bottom:12px;transform-origin:center bottom;transition:transform .4s cubic-bezier(.2,.9,.2,1),opacity .4s}

/* Smile Mirror */
.mirror{height:120px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent);display:flex;align-items:center;justify-content:center;padding:10px;text-align:center}

/* Peace Zone */
.breath{display:flex;gap:12px;align-items:center}
.breath-circle{width:120px;height:120px;border-radius:999px;background:linear-gradient(135deg,rgba(110,231,183,.12),rgba(96,165,250,.08));display:flex;align-items:center;justify-content:center;font-weight:700;color:#022;transition:transform 1s ease}
.breath-controls{display:flex;flex-direction:column;gap:8px}

/* Art Wall */
.canvas-wrap{border-radius:8px;overflow:hidden;border:1px solid rgba(255,255,255,.04)}
canvas{display:block;width:100%;height:300px;background:linear-gradient(180deg,#021320,#061826)}
.tools{display:flex;gap:8px;margin-top:8px;align-items:center}

/* badges */
.badge{display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,var(--accent2),var(--accent));color:#022;font-weight:700}

@media(max-width:980px){.grid{grid-template-columns:1fr}.hero{flex-direction:column}.hero .left{width:100%}.canvas-wrap canvas{height:220px}}

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">DZ</div>
      <div>
        <h1>Dream Zone ‚Äî ‡¶Ü‡¶®‡¶®‡ßç‡¶¶, ‡¶∂‡¶æ‡¶®‡ßç‡¶§‡¶ø ‡¶ì ‡¶Æ‡¶ú‡¶æ</h1>
        <p class="lead muted">‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡ßÅ‡¶®‡ßç‡¶¶‡¶∞, ‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡¶ø‡¶≠ ‡¶™‡ßá‡¶ú ‚Äî ‡¶´‡ßÅ‡¶≤ ‡¶´‡ßÅ‡¶ü‡¶¨‡ßá, ‡¶π‡¶æ‡¶∏‡¶ø ‡¶õ‡¶°‡¶º‡¶æ‡¶¨‡ßá, ‡¶∂‡ßç‡¶¨‡¶æ‡¶∏-‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶∂‡¶ø‡¶ñ‡¶æ‡¶¨‡ßá, ‡¶Ü‡¶Å‡¶ï‡¶¨‡ßá ‡¶Ü‡¶∞ ‡¶Æ‡ßÅ‡¶° ‡¶¨‡¶¶‡¶≤‡ßá ‡¶¶‡ßá‡¶¨‡ßá‡•§</p>
      </div>
    </header><!-- HERO with provided image (explicitly included) -->
<section class="hero card">
  <div class="left">
    <img src="https://raw.githubusercontent.com/imranmahi529/Mahi-s-zone/refs/heads/main/Gemini_Generated_Image_1boe9n1boe9n1boe.png" alt="Dream Hero">
  </div>
  <div style="flex:1">
    <h2>‡¶∏‡ßç‡¶¨‡¶æ‡¶ó‡¶§‡¶Æ ‚Äî ‡¶ò‡¶∞‡ßã‡ßü‡¶æ ‡¶ñ‡ßÅ‡¶∂‡¶ø‡¶∞ ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ</h2>
    <p class="muted">‡¶è‡¶á ‡¶ú‡¶æ‡¶Ø‡¶º‡¶ó‡¶æ‡¶Ø‡¶º ‡¶¢‡ßÅ‡¶ï‡¶≤‡ßá‡¶á ‡¶Æ‡¶® ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶π‡¶¨‡ßá ‚Äî ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá, ‡¶Æ‡ßÅ‡¶° ‡¶ö‡ßá‡¶û‡ßç‡¶ú ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶∏‡¶æ‡¶ú‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡•§</p>
    <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
      <button class="badge" id="toggleSound">üîä ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶ö‡¶æ‡¶≤‡¶æ‡¶ì</button>
      <button class="badge" id="resetAll">‚ôªÔ∏è Reset</button>
    </div>
  </div>
</section>

<div class="grid">
  <!-- Joy Ride -->
  <div class="card">
    <h2>üé° Joy Ride ‚Äî Mood Play</h2>
    <p class="muted">‡¶Æ‡ßÅ‡¶ö‡¶ï‡¶ø ‡¶π‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ, ‡¶¨‡ßá‡¶≤‡ßÅ‡¶® ‡¶â‡¶°‡¶º‡¶æ ‚Äî ‡¶Æ‡ßÅ‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶∞‡¶ô ‡¶ì ‡¶è‡¶®‡¶ø‡¶Æ‡ßá‡¶∂‡¶® ‡¶¨‡¶¶‡¶≤‡¶æ‡¶¨‡ßá‡•§</p>
    <div style="margin-top:10px;display:flex;gap:8px;align-items:center">
      <select id="moodSelect">
        <option value="happy">üòç Happy</option>
        <option value="calm">üòå Calm</option>
        <option value="excited">ü§© Excited</option>
        <option value="relax">üßò Relax</option>
      </select>
      <button class="badge" id="popBalloons">üéà Pop 5</button>
    </div>
    <div class="sky" id="sky"></div>
  </div>

  <!-- Dream Garden -->
  <div class="card">
    <h2>üå∏ Dream Garden</h2>
    <p class="muted">‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶´‡ßÅ‡¶≤ ‡¶´‡ßÅ‡¶ü‡¶¨‡ßá‡•§ ‡¶´‡ßÅ‡¶≤ ‡¶Ø‡¶§ ‡¶¨‡ßá‡¶∂‡¶ø, ‡¶§‡¶§ ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ "Positive Meter" ‡¶¨‡¶æ‡¶°‡¶º‡¶¨‡ßá‡•§</p>
    <div class="garden" id="garden">Click here to grow a flower</div>
    <div style="margin-top:10px"><span class="muted">Positive Meter:</span> <span id="meterVal" class="badge">0</span></div>
  </div>

  <!-- Smile Mirror -->
  <div class="card">
    <h2>üòÅ Smile Mirror</h2>
    <p class="muted">‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶ï‡ßü‡ßá‡¶ï ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá ‡¶Æ‡¶ú‡¶æ‡¶∞ ‡¶≤‡¶æ‡¶á‡¶®‡ßá-‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶π‡¶æ‡¶∏‡¶ø ‡¶õ‡¶°‡¶º‡¶æ‡¶¨‡ßá ‚Äî ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶π‡¶æ‡¶∏‡¶ø ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶ú‡¶Æ‡¶¨‡ßá‡•§</p>
    <div class="mirror" id="mirror">Have a smile ‚Äî sit back and watch!</div>
    <div style="margin-top:8px"><small class="muted">Happiness Points: </small> <span id="happyPoints" class="badge">0</span></div>
  </div>

  <!-- Peace Zone -->
  <div class="card">
    <h2>üåø Peace Zone ‚Äî Breathe</h2>
    <p class="muted">‡¶è‡¶ï‡¶ü‡¶æ ‡¶∏‡¶π‡¶ú guided breathing exercise ‚Äî circle ‡¶´‡ßÅ‡¶≤‡¶¨‡ßá/‡¶õ‡ßã‡¶ü ‡¶π‡¶¨‡ßá, ‡¶ì‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∂‡ßç‡¶¨‡¶æ‡¶∏-‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ï‡¶∞‡ßã‡•§</p>
    <div class="breath">
      <div class="breath-circle" id="breathCircle">Breathe</div>
      <div class="breath-controls">
        <button class="badge" id="startBreath">Start</button>
        <button class="badge" id="stopBreath">Stop</button>
        <small class="muted">Tempo: <input id="breathSpeed" type="range" min="3" max="8" value="5"></small>
      </div>
    </div>
  </div>

  <!-- Dream Art Wall -->
  <div class="card" style="grid-column:1/3">
    <h2>üé® Dream Art Wall</h2>
    <p class="muted">‡¶ï‡¶æ‡¶ó‡¶ú‡ßá ‡¶Ü‡¶Å‡¶ï‡¶æ‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡ßá ‡¶Ü‡¶Å‡¶ï‡ßã ‚Äî ‡¶∂‡ßá‡¶∑‡ßá ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡ßã‡•§</p>
    <div class="canvas-wrap">
      <canvas id="artCanvas"></canvas>
    </div>
    <div class="tools">
      <label class="muted">Color: <input type="color" id="paintColor" value="#ff66a3"></label>
      <label class="muted">Size: <input type="range" id="paintSize" min="1" max="40" value="8"></label>
      <button class="badge" id="clearCanvas">Clear</button>
      <button class="badge" id="saveCanvas">Save Image</button>
    </div>
  </div>

</div>

<footer style="margin-top:18px;color:var(--muted)">‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Æ‡¶ú‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‚Äî ‡¶Ø‡¶¶‡¶ø ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶®‡ßá ‡¶®‡¶ø‡¶§‡ßá ‡¶ö‡¶æ‡¶ì ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶´‡¶æ‡¶á‡¶≤, map API ‡¶¨‡¶æ ‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø ‡¶∏‡ßá‡¶≠‡¶ø‡¶Ç ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨‡•§</footer>

  </div>  <script>
    // Ensure provided image exists: user asked image not to be forgotten
    // Joy Ride: balloons and mood
    const sky = document.getElementById('sky');
    const moods = {
      happy: {bg:['#ffecd2','#fcb69f'],balloonColors:['#ff9a9e','#ffc3a0','#ffd29a']},
      calm: {bg:['#dbeafe','#c7f9cc'],balloonColors:['#a7f3d0','#bef264','#86efac']},
      excited: {bg:['#fff1b6','#ffd6a5'],balloonColors:['#fda4af','#ffd166','#f6d365']},
      relax: {bg:['#e0f2fe','#e6fffa'],balloonColors:['#9be7ff','#bde0fe','#cfe9ff']}
    };
    function setMood(m){
      const mdata = moods[m]||moods.happy;
      document.body.style.background = `radial-gradient(circle at 10% 10%, ${mdata.bg[0]} 0%, ${mdata.bg[1]} 40%, #020612 100%)`;
      // spawn soft balloons
      sky.innerHTML='';
      for(let i=0;i<6;i++){
        const b = document.createElement('div'); b.className='balloon';
        const left = 8 + i*14 + Math.random()*8; b.style.left = left+'%'; b.style.background = mdata.balloonColors[i % mdata.balloonColors.length];
        b.style.animation = `float ${6+Math.random()*6}s ease-in infinite`; b.style.transition='transform .4s';
        const s = document.createElement('div'); s.className='string'; b.appendChild(s);
        sky.appendChild(b);
      }
    }
    // balloon float animation via CSS inserted dynamically
    const style = document.createElement('style'); style.textContent = `@keyframes float{0%{transform:translateY(0) }100%{transform:translateY(-380px)}}`; document.head.appendChild(style);
    document.getElementById('moodSelect').addEventListener('change',e=>setMood(e.target.value));
    document.getElementById('popBalloons').addEventListener('click',()=>{sky.innerHTML='';});
    setMood('happy');

    // Dream Garden
    const garden = document.getElementById('garden'); let meter=0; const meterVal = document.getElementById('meterVal');
    garden.addEventListener('click',e=>{
      const x = Math.random()*80+10; const sz = 40 + Math.random()*60; const col = `hsl(${Math.random()*60+260},80%,65%)`;
      const f = document.createElement('div'); f.className='flower'; f.style.left = x+'%'; f.style.width = sz+'px'; f.style.height = sz+'px'; f.style.opacity=0; f.style.transform='scale(0.3)';
      f.innerHTML = 'üå∏'; f.style.fontSize = (sz*0.6)+'px'; garden.appendChild(f);
      requestAnimationFrame(()=>{f.style.opacity=1; f.style.transform='scale(1)';});
      meter = Math.min(999, meter+1); meterVal.textContent = meter; saveState();
    });

    // Smile Mirror
    const jokes = [
      '‡¶Ü‡¶ú ‡¶§‡ßÅ‡¶Æ‡¶ø ‡¶ö‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡¶ï‡ßá ‡¶ú‡¶ø‡¶ú‡ßç‡¶û‡ßá‡¶∏ ‡¶ï‡¶∞‡ßã‚Äî"‡¶ï‡¶ø ‡¶¨‡¶≤‡ßã?" ‡¶ö‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶π‡¶≤‡ßá‡¶æ‚Äî "‡¶∏‡¶ø‡¶ü-‡¶á‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤!" üòÑ',
      '‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡ßå‡¶§‡ßÅ‡¶ï: ‡¶™‡ßá‡¶Å‡¶ö‡¶æ ‡¶∞‡¶æ‡¶§‡ßá ‡¶¨‡¶á ‡¶™‡¶°‡¶º‡¶≤ ‚Äî ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶∏‡ßá "‡¶¨‡ßÅ‡¶ï‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶Æ" ‡¶õ‡¶ø‡¶≤! üòÇ',
      '‡¶π‡¶æ‡¶∏‡¶ø ‡¶õ‡¶°‡¶º‡¶æ‡¶ì: ‡¶õ‡ßã‡¶ü‡ßç‡¶ü ‡¶ú‡ßã‡¶ï: ‡¶ï‡ßá‡¶® ‡¶ö‡¶æ‡¶Å‡¶¶ ‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤‡ßá ‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶®‡¶æ? ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶∏‡ßá ‡¶∞‡¶æ‡¶§‡¶≠‡ßç‡¶∞‡¶Æ‡¶ø! üåù'
    ];
    const mirror = document.getElementById('mirror'); let happyPoints=0; const happyPointsEl=document.getElementById('happyPoints');
    function rotateJoke(){ const j = jokes[Math.floor(Math.random()*jokes.length)]; mirror.textContent = j; happyPoints+=5; happyPointsEl.textContent = happyPoints; saveState(); }
    rotateJoke(); setInterval(rotateJoke,7000);

    // Peace Zone - breathing (visual + audio via WebAudio)
    let breathInterval=null; const breathCircle=document.getElementById('breathCircle');
    function startBreath(){ stopBreath(); const speed = Number(document.getElementById('breathSpeed').value); let phase=0; breathInterval = setInterval(()=>{
        // phase cycles 0..1
        phase = (phase+1/(speed*2)) % 1;
        const scale = 1 + 0.6*Math.sin(phase*Math.PI*2);
        breathCircle.style.transform = `scale(${scale})`;
      }, 1000/30);
      // optionally use gentle tone
      startSoundTone();
    }
    function stopBreath(){ if(breathInterval){ clearInterval(breathInterval); breathInterval=null; breathCircle.style.transform='scale(1)'; stopSoundTone(); } }
    document.getElementById('startBreath').addEventListener('click',startBreath);
    document.getElementById('stopBreath').addEventListener('click',stopBreath);

    // Art Wall
    const canvas = document.getElementById('artCanvas'); const ctx = canvas.getContext('2d');
    function resizeCanvas(){ const r = canvas.getBoundingClientRect(); canvas.width = r.width*devicePixelRatio; canvas.height = r.height*devicePixelRatio; canvas.style.width = r.width+'px'; canvas.style.height = r.height+'px'; ctx.scale(devicePixelRatio,devicePixelRatio); }
    function clearCanvas(){ ctx.clearRect(0,0,canvas.width,canvas.height); }
    function saveCanvasImage(){ const data = canvas.toDataURL('image/png'); const a = document.createElement('a'); a.href = data; a.download = 'dream-art.png'; a.click(); }
    window.addEventListener('resize',resizeCanvas); resizeCanvas(); clearCanvas();
    let drawing=false; function getPos(e){ const r=canvas.getBoundingClientRect(); const x = (e.clientX||e.touches[0].clientX)-r.left; const y = (e.clientY||e.touches[0].clientY)-r.top; return {x,y}; }
    canvas.addEventListener('pointerdown',e=>{ drawing=true; const p=getPos(e); ctx.beginPath(); ctx.lineCap='round'; ctx.lineJoin='round'; ctx.moveTo(p.x,p.y); });
    canvas.addEventListener('pointermove',e=>{ if(!drawing) return; const p=getPos(e); ctx.lineWidth = Number(document.getElementById('paintSize').value); ctx.strokeStyle = document.getElementById('paintColor').value; ctx.lineTo(p.x,p.y); ctx.stroke(); });
    canvas.addEventListener('pointerup',e=>{ drawing=false; });
    document.getElementById('clearCanvas').addEventListener('click', ()=>{ if(confirm('Clear drawing?')) clearCanvas(); });
    document.getElementById('saveCanvas').addEventListener('click', saveCanvasImage);

    // Local state save/load
    function saveState(){ const state = {meter, happyPoints}; localStorage.setItem('dream_state', JSON.stringify(state)); }
    function loadState(){ const s = JSON.parse(localStorage.getItem('dream_state')||'{}'); if(s.meter) meter=s.meter; meterVal.textContent=meter; if(s.happyPoints) happyPoints=s.happyPoints; happyPointsEl.textContent=happyPoints; }
    loadState();

    // Gentle sound engine (simple oscillator) toggled by header button
    let audioCtx=null; let osc=null; let gain=null; let soundOn=false;
    function startSoundTone(){ if(!soundOn) return; if(!audioCtx) audioCtx = new (window.AudioContext||window.webkitAudioContext)(); osc = audioCtx.createOscillator(); gain = audioCtx.createGain(); osc.type='sine'; osc.frequency.value = 220; gain.gain.value = 0.02; osc.connect(gain); gain.connect(audioCtx.destination); osc.start(); }
    function stopSoundTone(){ if(osc){ try{osc.stop(); }catch(e){} osc.disconnect(); osc=null;} if(gain){ gain.disconnect(); gain=null; } }
    document.getElementById('toggleSound').addEventListener('click', ()=>{
      soundOn = !soundOn; document.getElementById('toggleSound').textContent = soundOn? 'üîà ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞':'üîä ‡¶∏‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶ö‡¶æ‡¶≤‡¶æ‡¶ì'; if(soundOn){ if(audioCtx && audioCtx.state==='suspended') audioCtx.resume(); startSoundTone(); } else { stopSoundTone(); }
    });

    // reset
    document.getElementById('resetAll').addEventListener('click',()=>{ if(confirm('Reset all Dream Zone state?')){ localStorage.removeItem('dream_state'); localStorage.removeItem('dream_journal'); localStorage.removeItem('dream_board'); localStorage.removeItem('dream_pins'); localStorage.removeItem('dream_goals'); location.reload(); } });

<!-- === Dream Zone Graphics Edition === -->
<!-- Author: Mahi + ChatGPT -->

<!-- Load Lottie and particles.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.4/lottie.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

<style>
  /* Smooth color transition */
  body {
    animation: colorShift 10s infinite alternate ease-in-out;
  }
  @keyframes colorShift {
    0% { background-color: #060b28; }
    50% { background-color: #102044; }
    100% { background-color: #1c1444; }
  }

  /* Neon hover effects */
  .card:hover {
    box-shadow: 0 0 20px #00fff2, 0 0 40px #0077ff inset;
    transform: scale(1.02);
    transition: all 0.5s ease;
  }

  /* 3D rotating badge */
  #badge3D {
    width: 100px;
    height: 100px;
    margin: 0 auto;
    background: linear-gradient(135deg, #6ee7b7, #60a5fa);
    border-radius: 50%;
    animation: spin 6s linear infinite, glow 1s alternate infinite;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
    font-weight: bold;
    color: #042;
    text-shadow: 0 0 10px #fff;
  }
  @keyframes spin {
    from { transform: rotateY(0deg); }
    to { transform: rotateY(360deg); }
  }
  @keyframes glow {
    from { box-shadow: 0 0 10px #6ee7b7; }
    to { box-shadow: 0 0 30px #60a5fa; }
  }

  /* Particles container */
  #particles-js {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
  }

  /* Confetti animation box */
  #confettiBox {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
</style>

<!-- Particle background -->
<div id="particles-js"></div>

<!-- 3D rotating badge -->
<div style="text-align:center; margin: 40px 0;">
  <div id="badge3D">DZ</div>
  <p style="color:#8ef; font-size:14px;">Dream Zone Live ‚Äî High Graphics Mode</p>
</div>

<!-- Confetti container -->
<div id="confettiBox"></div>

<script>
  // === Lottie Confetti ===
  const confettiContainer = document.getElementById('confettiBox');
  const anim = lottie.loadAnimation({
    container: confettiContainer,
    renderer: 'svg',
    loop: false,
    autoplay: false,
    path: 'https://assets9.lottiefiles.com/packages/lf20_jcikwtux.json'
  });

  // Trigger confetti on smile or click
  document.addEventListener('click', () => anim.goToAndPlay(0, true));

  // === Particles Background ===
  particlesJS('particles-js', {
    "particles": {
      "number": { "value": 90 },
      "color": { "value": ["#00fff2", "#ff99cc", "#60a5fa", "#6ee7b7"] },
      "shape": { "type": "circle" },
      "opacity": { "value": 0.7 },
      "size": { "value": 4 },
      "line_linked": { "enable": true, "distance": 130, "color": "#00fff2", "opacity": 0.4, "width": 1 },
      "move": { "enable": true, "speed": 2 }
    },
    "interactivity": {
      "events": { "onhover": { "enable": true, "mode": "repulse" } },
      "modes": { "repulse": { "distance": 100, "duration": 0.5 } }
    },
    "retina_detect": true
  });
</script>

    // ensure canvas high-dpi ready after potential layout
    setTimeout(()=>{ resizeCanvas(); },300);
  </script></body>
</html>